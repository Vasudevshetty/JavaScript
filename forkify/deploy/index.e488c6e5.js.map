{"mappings":"A,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,A,C,E,E,Q,A,E,Q,S,C,C,C,E,O,c,C,E,O,C,W,C,I,I,E,I,A,G,E,E,W,C,E,a,C,C,GCEA,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,GCVA,AAAA,EAAA,SAAA,QAAA,CAA8C,IAAA,IAAoB,GAAA,YAAA,GAAA,EAAI,QAAQ,GAAG,KAAK,KAAK,CAAC,iGGArF,MAAM,EAAU,mDAGV,EAAU,uC,I,E,C,EEHvB,EAAiB,IAAA,IAAoB,sCAAA,YAAA,GAAA,EAAuC,QAAQ,GDa7E,MAAM,EAAO,eAAgB,CAAG,CAAE,CAAU,EACjD,GAAI,CACF,IAAM,EAAe,EACjB,MAAM,EAAK,CACT,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,EACvB,GACA,MAAM,GAEJ,EAAW,MAAM,QAAQ,IAAI,CAAC,CAAC,EArBhC,IAAI,QAAQ,SAAU,CAAC,CAAE,CAAM,EACpC,WAAW,WACT,EACE,AAAI,MAAM,mDAEd,EAAG,IACL,GAesE,EAC9D,EAAO,EAAS,IAAI,GAC1B,GAAI,CAAC,EAAS,EAAE,CAAE,MAAM,AAAI,MAAM,CAAC,EAAE,EAAK,OAAO,CAAC,CAAC,EAAE,EAAS,MAAM,CAAC,CAAC,EACtE,OAAO,CACT,CAAE,MAAO,EAAK,CACZ,MAAM,CACR,CACF,EAEa,EAAkB,SAAU,CAAG,CAAE,CAAM,EAClD,aAAa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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-3bc30fdf7a0b38dd.js","js/controller.js","js/model.js","js/config.js","js/helpers.js","node_modules/@parcel/runtime-js/lib/runtime-527cdea26deb9e8f.js","js/views/recipeView.js","js/views/View.js","js/views/resultsView.js","js/views/PreviewView.js","js/views/searchView.js","js/views/paginationView.js","js/views/bookmarksView.js","js/views/addRecipeView.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire3a11\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire3a11\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = new Map();\nfunction $18c11f3350a906ea$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$18c11f3350a906ea$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nvar $b3793e99d9f1ce7e$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"ag6wN\",\"index.e488c6e5.js\",\"e1psP\",\"icons.c14567a0.svg\"]'));\n\nconst $9dfdde2870d5f6f9$export$923ea8233b386e99 = \"https://forkify-api.herokuapp.com/api/v2/recipes\";\nconst $9dfdde2870d5f6f9$export$3cf918ebc7e29d7a = 10;\nconst $9dfdde2870d5f6f9$export$5feaddb1377b7f5e = 10;\nconst $9dfdde2870d5f6f9$export$a9861bd62f48e142 = \"aad88efe-822e-421d-a025-d4d0bf758f85\";\nconst $9dfdde2870d5f6f9$export$3ce8858248d89a69 = 2.5;\n\n\n\nvar $ed6448dc57a33c39$exports = {};\n$ed6448dc57a33c39$exports = new URL(\"icons.c14567a0.svg\", import.meta.url).toString();\n\n\nfunction $55e824ff15c161b3$var$timeout(seconds) {\n    return new Promise(function(_, reject) {\n        setTimeout(function() {\n            reject(new Error(`Request took too long! Timeout after ${seconds} seconds`));\n        }, seconds * 1000);\n    });\n}\nconst $55e824ff15c161b3$export$2b3ff41fecbef7c8 = async function(url, uploadData) {\n    try {\n        const fetchPromise = uploadData ? fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(uploadData)\n        }) : fetch(url);\n        const response = await Promise.race([\n            fetchPromise,\n            $55e824ff15c161b3$var$timeout((0, $9dfdde2870d5f6f9$export$3cf918ebc7e29d7a))\n        ]);\n        const data = response.json();\n        if (!response.ok) throw new Error(`${data.message} ${response.status}`);\n        return data;\n    } catch (err) {\n        throw err;\n    }\n};\nconst $55e824ff15c161b3$export$1f73f60bdb811cb1 = function(key, object) {\n    localStorage.setItem(key, JSON.stringify(object));\n};\nconst $55e824ff15c161b3$export$d3720feff416e85b = function(key) {\n    return JSON.parse(localStorage.getItem(key));\n};\n\n\nconst $f381a3c3b9cf5311$export$ca000e230c0caa3e = {\n    recipe: {},\n    search: {\n        query: \"\",\n        recipes: [],\n        page: 1,\n        resultsPerPage: (0, $9dfdde2870d5f6f9$export$5feaddb1377b7f5e)\n    },\n    bookmarks: []\n};\nconst $f381a3c3b9cf5311$var$createRecipeObject = function(recipe) {\n    return {\n        id: recipe.id,\n        title: recipe.title,\n        publisher: recipe.publisher,\n        sourceUrl: recipe.source_url,\n        image: recipe.image_url,\n        servings: recipe.servings,\n        cookingTime: recipe.cooking_time,\n        ingredients: recipe.ingredients,\n        ...recipe.key && {\n            key: recipe.key\n        }\n    };\n};\nconst $f381a3c3b9cf5311$export$b96725c7a035d60b = async function(id) {\n    try {\n        const data = await (0, $55e824ff15c161b3$export$2b3ff41fecbef7c8)(`${(0, $9dfdde2870d5f6f9$export$923ea8233b386e99)}/${id}?key=${(0, $9dfdde2870d5f6f9$export$a9861bd62f48e142)}`);\n        const { recipe: recipe } = data.data;\n        $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe = $f381a3c3b9cf5311$var$createRecipeObject(recipe);\n        (0, $55e824ff15c161b3$export$1f73f60bdb811cb1)(\"recipe\", recipe);\n        if ($f381a3c3b9cf5311$export$ca000e230c0caa3e.bookmarks.some((bookmark)=>bookmark.id === id)) $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.bookmarked = true;\n        else $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.bookmarked = false;\n    } catch (err) {\n        throw err;\n    }\n};\nconst $f381a3c3b9cf5311$export$c3c488c05aeea533 = async function(query) {\n    try {\n        const data = await (0, $55e824ff15c161b3$export$2b3ff41fecbef7c8)(`${(0, $9dfdde2870d5f6f9$export$923ea8233b386e99)}?search=${query}&key=${(0, $9dfdde2870d5f6f9$export$a9861bd62f48e142)}`);\n        const { recipes: recipes } = data.data;\n        $f381a3c3b9cf5311$export$ca000e230c0caa3e.search.query = query;\n        $f381a3c3b9cf5311$export$ca000e230c0caa3e.search.page = 1;\n        $f381a3c3b9cf5311$export$ca000e230c0caa3e.search.recipes = recipes.map((recipe)=>{\n            return {\n                id: recipe.id,\n                title: recipe.title,\n                publisher: recipe.publisher,\n                image: recipe.image_url,\n                ...recipe.key && {\n                    key: recipe.key\n                }\n            };\n        });\n        (0, $55e824ff15c161b3$export$1f73f60bdb811cb1)(\"query\", $f381a3c3b9cf5311$export$ca000e230c0caa3e.search);\n    } catch (err) {\n        throw err;\n    }\n};\nconst $f381a3c3b9cf5311$export$d01855188ffbb649 = function(page = $f381a3c3b9cf5311$export$ca000e230c0caa3e.search.page) {\n    $f381a3c3b9cf5311$export$ca000e230c0caa3e.search.page = page;\n    const start = (page - 1) * $f381a3c3b9cf5311$export$ca000e230c0caa3e.search.resultsPerPage, end = page * $f381a3c3b9cf5311$export$ca000e230c0caa3e.search.resultsPerPage;\n    return $f381a3c3b9cf5311$export$ca000e230c0caa3e.search.recipes.slice(start, end);\n};\nconst $f381a3c3b9cf5311$export$5e23f4642ecad5ea = function(newServings = $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.servings) {\n    $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.ingredients.forEach((ingredient)=>{\n        // newQT = oldQT * newServings / oldServings\n        ingredient.quantity = ingredient.quantity * newServings / $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.servings;\n    });\n    $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.servings = newServings;\n};\nconst $f381a3c3b9cf5311$export$72009cc673d27d80 = function(recipe) {\n    $f381a3c3b9cf5311$export$ca000e230c0caa3e.bookmarks.push(recipe);\n    if (recipe.id === $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.id) $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.bookmarked = true;\n    (0, $55e824ff15c161b3$export$1f73f60bdb811cb1)(\"bookmarks\", $f381a3c3b9cf5311$export$ca000e230c0caa3e.bookmarks);\n};\nconst $f381a3c3b9cf5311$export$2db69b245b3902c8 = function(id) {\n    let index = $f381a3c3b9cf5311$export$ca000e230c0caa3e.bookmarks.findIndex((bookmark)=>bookmark.id === id);\n    $f381a3c3b9cf5311$export$ca000e230c0caa3e.bookmarks.splice(index, 1);\n    if ($f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.id === id) $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.bookmarked = false;\n    (0, $55e824ff15c161b3$export$1f73f60bdb811cb1)(\"bookmarks\", $f381a3c3b9cf5311$export$ca000e230c0caa3e.bookmarks);\n};\nconst $f381a3c3b9cf5311$export$d660c2254e74960d = async function(newRecipe) {\n    try {\n        const ingredients = Object.entries(newRecipe).filter((entry)=>entry[0].startsWith(\"ingredient\") && entry[1] != \"\").map((ing)=>{\n            const ingArr = ing[1].replaceAll(\" \", \"\").split(\",\");\n            if (ingArr.length != 3) throw new Error(\"Wrong ingredient fomat, please use the correct format.\");\n            const [quantity, unit, description] = ingArr;\n            return {\n                quantity: +quantity ?? null,\n                unit: unit,\n                description: description\n            };\n        });\n        const recipeToServer = {\n            title: newRecipe.title,\n            publisher: newRecipe.publisher,\n            source_url: newRecipe.source_url,\n            image_url: newRecipe.image_url,\n            servings: newRecipe.servings,\n            cooking_time: newRecipe.cooking_time,\n            ingredients: ingredients\n        };\n        const serverData = await (0, $55e824ff15c161b3$export$2b3ff41fecbef7c8)(`${(0, $9dfdde2870d5f6f9$export$923ea8233b386e99)}?key=${(0, $9dfdde2870d5f6f9$export$a9861bd62f48e142)}`, recipeToServer);\n        const { recipe: recipe } = serverData.data;\n        $f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe = $f381a3c3b9cf5311$var$createRecipeObject(recipe);\n        $f381a3c3b9cf5311$export$72009cc673d27d80($f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        throw err;\n    }\n};\n\n\n// import { Fraction } from \"fractional\";\n\n\nclass $979d8bedf0abc0db$export$2e2bcd8739ae039 {\n    data;\n    render(data, render = true) {\n        if (!data || Array.isArray(data) && data.length === 0) return this.renderError();\n        this.data = data;\n        const html = this._generateMarkup();\n        if (!render) return html;\n        this.#clear();\n        this.parentElement.insertAdjacentHTML(\"afterbegin\", html);\n    }\n    update(data) {\n        this.data = data;\n        const html = this._generateMarkup();\n        const newDOM = document.createRange().createContextualFragment(html);\n        const newElements = Array.from(newDOM.querySelectorAll(\"*\"));\n        const currElements = Array.from(this.parentElement.querySelectorAll(\"*\"));\n        newElements.forEach((newElement, i)=>{\n            const currElement = currElements[i];\n            // firstchild refers to only text content in the dom element\n            if (!newElement.isEqualNode(currElement) && newElement.firstChild?.nodeValue.trim() !== \"\") currElement.textContent = newElement.textContent;\n            // say if we want to change the attribute,\n            if (!newElement.isEqualNode(currElement)) Array.from(newElement.attributes).forEach((attr)=>{\n                currElement.setAttribute(attr.name, attr.value);\n            });\n        });\n    }\n    #clear() {\n        this.parentElement.innerHTML = \"\";\n    }\n    renderSpinner() {\n        const spin = `<div class=\"spinner\">\r\n          <svg>\r\n            <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports)))}#icon-loader\"></use>\r\n          </svg>\r\n        </div>`;\n        this.parentElement.innerHTML = \"\";\n        this.parentElement.insertAdjacentHTML(\"afterbegin\", spin);\n    }\n    renderMessage(message) {\n        const msg = `\r\n        <div class=\"message\">\r\n          <div>\r\n            <svg>\r\n              <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports)))}#icon-smile\"></use>\r\n            </svg>\r\n          </div>\r\n          <p>${message}</p>\r\n        </div>`;\n        this.#clear;\n        this.parentElement.innerHTML = msg;\n    }\n    renderError(errorMessage = this.errorMessage) {\n        const error = ` \r\n        <div class=\"error\">\r\n          <div>\r\n            <svg>\r\n              <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports)))}#icon-alert-triangle\"></use>\r\n            </svg>\r\n          </div>\r\n          <p>${errorMessage}</p>\r\n        </div>`;\n        this.#clear();\n        this.parentElement.innerHTML = error;\n    }\n}\n\n\nclass $6e1749ef4a57ed73$var$RecipeView extends (0, $979d8bedf0abc0db$export$2e2bcd8739ae039) {\n    errorMessage = \"No recipes found for your query. Please try again!\";\n    parentElement = document.querySelector(\".recipe\");\n    addHandlerRender(handler) {\n        [\n            \"load\",\n            \"hashchange\"\n        ].forEach((ev)=>window.addEventListener(ev, handler));\n    }\n    addHandlerBookmark(handler) {\n        this.parentElement.addEventListener(\"click\", (e)=>{\n            const btn = e.target.closest(\".btn--bookmark\");\n            if (!btn) return;\n            handler();\n        });\n    }\n    addHandlerUpdateServings(handler) {\n        this.parentElement.addEventListener(\"click\", (e)=>{\n            const btn = e.target.closest(\".btn--tiny\");\n            if (!btn) return;\n            let servings = this.data.servings;\n            handler(btn.classList.contains(\"btn--increase-servings\") ? servings + 1 : servings - 1 || 1);\n        });\n    }\n    _generateMarkup() {\n        return `\r\n    <div class=\"recipe\">\r\n        <figure class=\"recipe__fig\">\r\n          <img src=\"${this.data.image}\" alt=\"recipe image\" class=\"recipe__img\" />\r\n          <h1 class=\"recipe__title\">\r\n            <span>${this.data.title}</span>\r\n          </h1>\r\n        </figure>\r\n\r\n        <div class=\"recipe__details\">\r\n          <div class=\"recipe__info\">\r\n            <svg class=\"recipe__info-icon\">\r\n              <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-clock\"></use>\r\n            </svg>\r\n            <span class=\"recipe__info-data recipe__info-data--minutes\">${this.data.cookingTime}</span>\r\n            <span class=\"recipe__info-text\">minutes</span>\r\n          </div>\r\n\r\n          <div class=\"recipe__info\">\r\n            <svg class=\"recipe__info-icon\">\r\n              <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-users\"></use>\r\n            </svg>\r\n            <span class=\"recipe__info-data recipe__info-data-people\">${this.data.servings}</span>\r\n            <span class=\"recipe__info-text\">servings</span>\r\n\r\n            <div class=\"recipe__info-buttons\">\r\n              <button class=\"btn--tiny btn--decrease-servings\">\r\n                <svg>\r\n                  <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-minus-circle\"></use>\r\n                </svg>\r\n              </button>\r\n              <button class=\"btn--tiny btn--increase-servings\">\r\n                <svg>\r\n                  <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-plus-circle\"></use>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"recipe__user-generated ${this.data.key ? \"\" : \"hidden\"}\">\r\n             <svg class=\"nav__icon\">\r\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-user\"></use>\r\n              </svg>\r\n          </div>\r\n\r\n          <button class=\"btn--round btn--bookmark\">\r\n            <svg>\r\n              <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-bookmark${this.data.bookmarked ? \"-fill\" : \"\"}\"></use>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"recipe__ingredients\">\r\n          <h2 class=\"heading--2\">Recipe ingredients</h2>\r\n          <ul class=\"recipe__ingredient-list\">\r\n           ${this.#generateIngredients()}\r\n          </ul>\r\n        </div>\r\n\r\n        <div class=\"recipe__directions\">\r\n          <h2 class=\"heading--2\">How to cook it</h2>\r\n          <p class=\"recipe__directions-text\">\r\n            This recipe was carefully designed and tested by\r\n            <span class=\"recipe__publisher\">${this.data.publisher}</span>. Please\r\n            check out the directions at their website\r\n          </p>\r\n          <a\r\n            href=\"${this.data.sourceUrl}\"\r\n            class=\"btn--small recipe__btn\"\r\n            target=\"_blank\"\r\n          >\r\n            <span>Directions</span>\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-arrow-right\"></use>\r\n            </svg>\r\n          </a>\r\n        </div> \r\n      </div>`;\n    }\n    #generateIngredients() {\n        return `\r\n          ${this.data.ingredients.reduce((accumulator, ingredient)=>accumulator + `<li class=\"recipe__ingredient\">\r\n              <svg class=\"recipe__icon\">\r\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-check\"></use>\r\n              </svg>\r\n              <div class=\"recipe__quantity\">${ingredient.quantity}</div>\r\n              <div class=\"recipe__description\">\r\n              <span class=\"recipe__unit\">${ingredient.unit}</span>\r\n                ${ingredient.description}\r\n              </div>\r\n            </li>`, \"\")}\r\n        `;\n    }\n}\nvar // only one recipe view must be there singleton classes.\n$6e1749ef4a57ed73$export$2e2bcd8739ae039 = new $6e1749ef4a57ed73$var$RecipeView();\n\n\n\n\nclass $875747b3d3765f41$var$PreviewView extends (0, $979d8bedf0abc0db$export$2e2bcd8739ae039) {\n    _generateMarkup() {\n        const id = location.hash.slice(1);\n        return `\r\n        <li class=\"preview\">\r\n            <a href=\"#${this.data.id}\" class=\"preview__link ${id === this.data.id ? \"preview__link--active\" : \"\"}\">\r\n            <figure class=\"preview__fig\">\r\n                <img src=\"${this.data.image}\" alt=\"Test\" /> \r\n            </figure>\r\n            \r\n            <div class=\"preview__data\">\r\n                <h4 class=\"preview__title\">${this.data.title}</h4>\r\n                <p class=\"preview__publisher\">${this.data.publisher}</p>\r\n                <div class=\"preview__user-generated ${this.data.key ? \"\" : \"hidden\"}\">\r\n                  <svg class=\"nav__icon\">\r\n                      <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-user\"></use>\r\n                  </svg>\r\n                </div>\r\n            </div>\r\n            </a>\r\n        </li> \r\n        `;\n    }\n}\nvar $875747b3d3765f41$export$2e2bcd8739ae039 = new $875747b3d3765f41$var$PreviewView();\n\n\n\nclass $8f1f46095f7e634a$var$ResultsView extends (0, $979d8bedf0abc0db$export$2e2bcd8739ae039) {\n    parentElement = document.querySelector(\".results\");\n    errorMessage = \"No recipes found for your query ;)\";\n    message = \"\";\n    _generateMarkup() {\n        return this.data.reduce((accumulator, recipe)=>accumulator + (0, $875747b3d3765f41$export$2e2bcd8739ae039).render(recipe, false), \"\");\n    }\n}\nvar $8f1f46095f7e634a$export$2e2bcd8739ae039 = new $8f1f46095f7e634a$var$ResultsView();\n\n\nclass $bfa3fc362cee6467$var$SearchView {\n    #parentElement = document.querySelector(\".search\");\n    addHandlerSearch(handler) {\n        this.#parentElement.addEventListener(\"submit\", (e)=>{\n            e.preventDefault();\n            handler();\n        });\n    }\n    clearInput() {\n        this.#parentElement.querySelector(\".search__field\").value = \"\";\n    }\n    getQuery() {\n        return this.#parentElement.querySelector(\".search__field\").value;\n    }\n}\nvar $bfa3fc362cee6467$export$2e2bcd8739ae039 = new $bfa3fc362cee6467$var$SearchView();\n\n\n\n\nclass $a4d52f5bb2597adb$var$PaginationView extends (0, $979d8bedf0abc0db$export$2e2bcd8739ae039) {\n    parentElement = document.querySelector(\".pagination\");\n    addHandlerRender(handler) {\n        this.parentElement.addEventListener(\"click\", function(e) {\n            const btn = e.target.closest(\".btn--inline\");\n            if (!btn) return;\n            const page = +btn.dataset.goto;\n            handler(page);\n        });\n    }\n    _generateMarkup() {\n        // page 1 only no display\n        const currPage = this.data.page;\n        const pageNo = Math.ceil(this.data.recipes.length / this.data.resultsPerPage);\n        // page no 1 not the only page\n        if (currPage === 1 && pageNo > 1) return this.#generateButtonMarkup(\"right\", currPage);\n        // page last, not the only page\n        if (currPage === pageNo && pageNo > 1) return this.#generateButtonMarkup(\"left\", currPage);\n        // normal pages\n        if (currPage < pageNo) return this.#generateButtonMarkup(\"left\", currPage).concat(this.#generateButtonMarkup(\"right\", currPage));\n        return \"\";\n    }\n    #generateButtonMarkup(button, currPage) {\n        const page = button === \"left\" ? currPage - 1 : currPage + 1;\n        return `\r\n        <button class=\"btn--inline pagination__btn--${button === \"left\" ? \"prev\" : \"next\"}\" data-goto=\"${page}\">\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($ed6448dc57a33c39$exports))}#icon-arrow-${button}\"></use>\r\n            </svg>\r\n            <span>Page ${page}</span>\r\n        </button>`;\n    }\n}\nvar $a4d52f5bb2597adb$export$2e2bcd8739ae039 = new $a4d52f5bb2597adb$var$PaginationView();\n\n\n\n\nclass $d84da2ac8cdc4a66$var$BookmarksView extends (0, $979d8bedf0abc0db$export$2e2bcd8739ae039) {\n    parentElement = document.querySelector(\".bookmarks__list\");\n    errorMessage = \"No bookmarks yet find a nice recipe and bookmark it;)\";\n    message = \"\";\n    _generateMarkup() {\n        return this.data.reduce((accumulator, recipe)=>accumulator + (0, $875747b3d3765f41$export$2e2bcd8739ae039).render(recipe, false), \"\");\n    }\n}\nvar $d84da2ac8cdc4a66$export$2e2bcd8739ae039 = new $d84da2ac8cdc4a66$var$BookmarksView();\n\n\n\n\nclass $cdb0fe0ee1216733$var$AddRecipeView extends (0, $979d8bedf0abc0db$export$2e2bcd8739ae039) {\n    parentElement = document.querySelector(\".upload\");\n    #open = document.querySelector(\".nav__btn--add-recipe\");\n    #modalWindow = document.querySelector(\".add-recipe-window\");\n    #overlay = document.querySelector(\".overlay\");\n    #close = document.querySelector(\".btn--close-modal\");\n    #submit = document.querySelector(\".upload__btn\");\n    addHandlerRender(handler) {\n        this.parentElement.addEventListener(\"submit\", (e)=>{\n            e.preventDefault();\n            const formDataArr = [\n                ...new FormData(this.parentElement)\n            ];\n            const formData = Object.fromEntries(formDataArr);\n            handler(formData);\n        });\n    }\n    constructor(){\n        super();\n        this.addHandlerShowModal();\n    }\n    toggleWindow() {\n        this.#modalWindow.classList.toggle(\"hidden\");\n        this.#overlay.classList.toggle(\"hidden\");\n    }\n    addHandlerShowModal() {\n        this.#open.addEventListener(\"click\", this.toggleWindow.bind(this));\n        this.#close.addEventListener(\"click\", this.toggleWindow.bind(this));\n    }\n}\nvar $cdb0fe0ee1216733$export$2e2bcd8739ae039 = new $cdb0fe0ee1216733$var$AddRecipeView();\n\n\n\nconst $03cf872f16b5d10b$var$controlRecipes = async function() {\n    try {\n        const id = window.location.hash.slice(1) ?? \"\";\n        if (!id) return;\n        (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).renderSpinner();\n        (0, $8f1f46095f7e634a$export$2e2bcd8739ae039).update($f381a3c3b9cf5311$export$d01855188ffbb649());\n        (0, $d84da2ac8cdc4a66$export$2e2bcd8739ae039).update($f381a3c3b9cf5311$export$ca000e230c0caa3e.bookmarks);\n        await $f381a3c3b9cf5311$export$b96725c7a035d60b(id);\n        (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).render($f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).renderError();\n    }\n};\nconst $03cf872f16b5d10b$var$controlSearchResults = async function() {\n    try {\n        const query = (0, $bfa3fc362cee6467$export$2e2bcd8739ae039).getQuery();\n        if (!query) return;\n        (0, $8f1f46095f7e634a$export$2e2bcd8739ae039).renderSpinner();\n        await $f381a3c3b9cf5311$export$c3c488c05aeea533(query);\n        (0, $bfa3fc362cee6467$export$2e2bcd8739ae039).clearInput();\n        (0, $8f1f46095f7e634a$export$2e2bcd8739ae039).render($f381a3c3b9cf5311$export$d01855188ffbb649());\n        (0, $a4d52f5bb2597adb$export$2e2bcd8739ae039).render($f381a3c3b9cf5311$export$ca000e230c0caa3e.search);\n    } catch (err) {\n        (0, $8f1f46095f7e634a$export$2e2bcd8739ae039).renderError();\n    }\n};\nconst $03cf872f16b5d10b$var$controlPagination = function(goToPage) {\n    (0, $8f1f46095f7e634a$export$2e2bcd8739ae039).render($f381a3c3b9cf5311$export$d01855188ffbb649(goToPage));\n    (0, $a4d52f5bb2597adb$export$2e2bcd8739ae039).render($f381a3c3b9cf5311$export$ca000e230c0caa3e.search);\n};\nconst $03cf872f16b5d10b$var$controlServings = function(newServings) {\n    $f381a3c3b9cf5311$export$5e23f4642ecad5ea(newServings);\n    (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).update($f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe);\n};\nconst $03cf872f16b5d10b$var$controlBookmark = function() {\n    if (!$f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.bookmarked) $f381a3c3b9cf5311$export$72009cc673d27d80($f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe);\n    else $f381a3c3b9cf5311$export$2db69b245b3902c8($f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.id);\n    (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).update($f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe);\n    (0, $d84da2ac8cdc4a66$export$2e2bcd8739ae039).render($f381a3c3b9cf5311$export$ca000e230c0caa3e.bookmarks);\n};\nconst $03cf872f16b5d10b$var$controlLoad = function() {\n    const bookmarks = (0, $55e824ff15c161b3$export$d3720feff416e85b)(\"bookmarks\");\n    const query = (0, $55e824ff15c161b3$export$d3720feff416e85b)(\"query\");\n    const recipe = (0, $55e824ff15c161b3$export$d3720feff416e85b)(\"recipe\");\n    if (!recipe) (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).renderMessage(\"Start by searching for a recipe or an ingredient. Have fun!\");\n    if (!query) (0, $8f1f46095f7e634a$export$2e2bcd8739ae039).renderMessage(\"Search results will be displayed here. :)\");\n    if (!bookmarks) (0, $d84da2ac8cdc4a66$export$2e2bcd8739ae039).renderMessage(\"No bookmarks yet. Find a nice recipe and bookmark it :)\");\n    else (0, $d84da2ac8cdc4a66$export$2e2bcd8739ae039).render(bookmarks);\n// resultsView.render(query);\n};\nconst $03cf872f16b5d10b$var$controlAddRecipe = async function(newRecipe) {\n    try {\n        (0, $cdb0fe0ee1216733$export$2e2bcd8739ae039).renderSpinner();\n        await $f381a3c3b9cf5311$export$d660c2254e74960d(newRecipe);\n        (0, $cdb0fe0ee1216733$export$2e2bcd8739ae039).renderMessage(\"Recipe was successfully uploaded\");\n        (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).render($f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe);\n        (0, $d84da2ac8cdc4a66$export$2e2bcd8739ae039).render($f381a3c3b9cf5311$export$ca000e230c0caa3e.bookmarks);\n        window.history.pushState(null, \"\", `#${$f381a3c3b9cf5311$export$ca000e230c0caa3e.recipe.id}`);\n        setTimeout(()=>{\n            (0, $cdb0fe0ee1216733$export$2e2bcd8739ae039).toggleWindow();\n        }, (0, $9dfdde2870d5f6f9$export$3ce8858248d89a69) * 1000);\n    } catch (err) {\n        (0, $cdb0fe0ee1216733$export$2e2bcd8739ae039).renderError(err.message);\n    }\n};\nconst $03cf872f16b5d10b$var$init = function() {\n    (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).addHandlerRender($03cf872f16b5d10b$var$controlRecipes);\n    (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).addHandlerUpdateServings($03cf872f16b5d10b$var$controlServings);\n    (0, $6e1749ef4a57ed73$export$2e2bcd8739ae039).addHandlerBookmark($03cf872f16b5d10b$var$controlBookmark);\n    (0, $bfa3fc362cee6467$export$2e2bcd8739ae039).addHandlerSearch($03cf872f16b5d10b$var$controlSearchResults);\n    (0, $a4d52f5bb2597adb$export$2e2bcd8739ae039).addHandlerRender($03cf872f16b5d10b$var$controlPagination);\n    (0, $cdb0fe0ee1216733$export$2e2bcd8739ae039).addHandlerRender($03cf872f16b5d10b$var$controlAddRecipe);\n    // get data from local storage\n    window.addEventListener(\"load\", $03cf872f16b5d10b$var$controlLoad);\n};\n$03cf872f16b5d10b$var$init();\n\n\n//# sourceMappingURL=index.e488c6e5.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"ag6wN\\\",\\\"index.e488c6e5.js\\\",\\\"e1psP\\\",\\\"icons.c14567a0.svg\\\"]\"));","import * as model from \"./model\";\r\nimport recipeView from \"./views/recipeView\";\r\nimport resultsView from \"./views/resultsView\";\r\nimport searchView from \"./views/searchView\";\r\nimport paginationView from \"./views/paginationView\";\r\nimport bookmarksView from \"./views/bookmarksView\";\r\n\r\nimport { getLocalStorage } from \"./helpers\";\r\n\r\nimport addRecipeView from \"./views/addRecipeView\";\r\nimport { MODAL_CLOSE_SEC } from \"./config\";\r\n\r\nconst controlRecipes = async function () {\r\n  try {\r\n    const id = window.location.hash.slice(1) ?? \"\";\r\n    if (!id) return;\r\n    recipeView.renderSpinner();\r\n    resultsView.update(model.getPageResults());\r\n    bookmarksView.update(model.state.bookmarks);\r\n    await model.loadRecipe(id);\r\n    recipeView.render(model.state.recipe);\r\n  } catch (err) {\r\n    recipeView.renderError();\r\n  }\r\n};\r\n\r\nconst controlSearchResults = async function () {\r\n  try {\r\n    const query = searchView.getQuery();\r\n    if (!query) return;\r\n\r\n    resultsView.renderSpinner();\r\n    await model.searchResults(query);\r\n    searchView.clearInput();\r\n\r\n    resultsView.render(model.getPageResults());\r\n    paginationView.render(model.state.search);\r\n  } catch (err) {\r\n    resultsView.renderError();\r\n  }\r\n};\r\n\r\nconst controlPagination = function (goToPage) {\r\n  resultsView.render(model.getPageResults(goToPage));\r\n  paginationView.render(model.state.search);\r\n};\r\n\r\nconst controlServings = function (newServings) {\r\n  model.updateServings(newServings);\r\n  recipeView.update(model.state.recipe);\r\n};\r\n\r\nconst controlBookmark = function () {\r\n  if (!model.state.recipe.bookmarked) model.addBookmark(model.state.recipe);\r\n  else model.removeBookmark(model.state.recipe.id);\r\n  recipeView.update(model.state.recipe);\r\n  bookmarksView.render(model.state.bookmarks);\r\n};\r\n\r\nconst controlLoad = function () {\r\n  const bookmarks = getLocalStorage(\"bookmarks\");\r\n  const query = getLocalStorage(\"query\");\r\n  const recipe = getLocalStorage(\"recipe\");\r\n\r\n  if (!recipe)\r\n    recipeView.renderMessage(\r\n      \"Start by searching for a recipe or an ingredient. Have fun!\"\r\n    );\r\n\r\n  if (!query)\r\n    resultsView.renderMessage(\"Search results will be displayed here. :)\");\r\n\r\n  if (!bookmarks)\r\n    bookmarksView.renderMessage(\r\n      \"No bookmarks yet. Find a nice recipe and bookmark it :)\"\r\n    );\r\n  else bookmarksView.render(bookmarks);\r\n\r\n  // resultsView.render(query);\r\n};\r\n\r\nconst controlAddRecipe = async function (newRecipe) {\r\n  try {\r\n    addRecipeView.renderSpinner();\r\n    await model.uploadRecipe(newRecipe);\r\n    addRecipeView.renderMessage(\"Recipe was successfully uploaded\");\r\n    recipeView.render(model.state.recipe);\r\n    bookmarksView.render(model.state.bookmarks);\r\n    window.history.pushState(null, \"\", `#${model.state.recipe.id}`);\r\n    setTimeout(() => {\r\n      addRecipeView.toggleWindow();\r\n    }, MODAL_CLOSE_SEC * 1000);\r\n  } catch (err) {\r\n    addRecipeView.renderError(err.message);\r\n  }\r\n};\r\n\r\nconst init = function () {\r\n  recipeView.addHandlerRender(controlRecipes);\r\n  recipeView.addHandlerUpdateServings(controlServings);\r\n  recipeView.addHandlerBookmark(controlBookmark);\r\n  searchView.addHandlerSearch(controlSearchResults);\r\n  paginationView.addHandlerRender(controlPagination);\r\n  addRecipeView.addHandlerRender(controlAddRecipe);\r\n\r\n  // get data from local storage\r\n  window.addEventListener(\"load\", controlLoad);\r\n};\r\n\r\ninit();\r\n","import { API_KEY, API_URL, RES_PER_PAGE } from \"./config\";\r\nimport { AJAX, setLocalStorage } from \"./helpers\";\r\n\r\nexport const state = {\r\n  recipe: {},\r\n  search: {\r\n    query: \"\",\r\n    recipes: [],\r\n    page: 1,\r\n    resultsPerPage: RES_PER_PAGE,\r\n  },\r\n  bookmarks: [],\r\n};\r\n\r\nconst createRecipeObject = function (recipe) {\r\n  return {\r\n    id: recipe.id,\r\n    title: recipe.title,\r\n    publisher: recipe.publisher,\r\n    sourceUrl: recipe.source_url,\r\n    image: recipe.image_url,\r\n    servings: recipe.servings,\r\n    cookingTime: recipe.cooking_time,\r\n    ingredients: recipe.ingredients,\r\n    ...(recipe.key && { key: recipe.key }),\r\n  };\r\n};\r\n\r\nexport const loadRecipe = async function (id) {\r\n  try {\r\n    const data = await AJAX(`${API_URL}/${id}?key=${API_KEY}`);\r\n    const { recipe } = data.data;\r\n    state.recipe = createRecipeObject(recipe);\r\n    setLocalStorage(\"recipe\", recipe);\r\n    if (state.bookmarks.some((bookmark) => bookmark.id === id))\r\n      state.recipe.bookmarked = true;\r\n    else state.recipe.bookmarked = false;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const searchResults = async function (query) {\r\n  try {\r\n    const data = await AJAX(`${API_URL}?search=${query}&key=${API_KEY}`);\r\n    const { recipes } = data.data;\r\n    state.search.query = query;\r\n    state.search.page = 1;\r\n    state.search.recipes = recipes.map((recipe) => {\r\n      return {\r\n        id: recipe.id,\r\n        title: recipe.title,\r\n        publisher: recipe.publisher,\r\n        image: recipe.image_url,\r\n        ...(recipe.key && { key: recipe.key }),\r\n      };\r\n    });\r\n    setLocalStorage(\"query\", state.search);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const getPageResults = function (page = state.search.page) {\r\n  state.search.page = page;\r\n  const start = (page - 1) * state.search.resultsPerPage,\r\n    end = page * state.search.resultsPerPage;\r\n  return state.search.recipes.slice(start, end);\r\n};\r\n\r\nexport const updateServings = function (newServings = state.recipe.servings) {\r\n  state.recipe.ingredients.forEach((ingredient) => {\r\n    // newQT = oldQT * newServings / oldServings\r\n    ingredient.quantity =\r\n      (ingredient.quantity * newServings) / state.recipe.servings;\r\n  });\r\n  state.recipe.servings = newServings;\r\n};\r\n\r\nexport const addBookmark = function (recipe) {\r\n  state.bookmarks.push(recipe);\r\n  if (recipe.id === state.recipe.id) state.recipe.bookmarked = true;\r\n  setLocalStorage(\"bookmarks\", state.bookmarks);\r\n};\r\n\r\nexport const removeBookmark = function (id) {\r\n  let index = state.bookmarks.findIndex((bookmark) => bookmark.id === id);\r\n  state.bookmarks.splice(index, 1);\r\n  if (state.recipe.id === id) state.recipe.bookmarked = false;\r\n  setLocalStorage(\"bookmarks\", state.bookmarks);\r\n};\r\n\r\nexport const uploadRecipe = async function (newRecipe) {\r\n  try {\r\n    const ingredients = Object.entries(newRecipe)\r\n      .filter((entry) => entry[0].startsWith(\"ingredient\") && entry[1] != \"\")\r\n      .map((ing) => {\r\n        const ingArr = ing[1].replaceAll(\" \", \"\").split(\",\");\r\n\r\n        if (ingArr.length != 3)\r\n          throw new Error(\r\n            \"Wrong ingredient fomat, please use the correct format.\"\r\n          );\r\n\r\n        const [quantity, unit, description] = ingArr;\r\n        return { quantity: +quantity ?? null, unit, description };\r\n      });\r\n    const recipeToServer = {\r\n      title: newRecipe.title,\r\n      publisher: newRecipe.publisher,\r\n      source_url: newRecipe.source_url,\r\n      image_url: newRecipe.image_url,\r\n      servings: newRecipe.servings,\r\n      cooking_time: newRecipe.cooking_time,\r\n      ingredients,\r\n    };\r\n\r\n    const serverData = await AJAX(`${API_URL}?key=${API_KEY}`, recipeToServer);\r\n    const { recipe } = serverData.data;\r\n    state.recipe = createRecipeObject(recipe);\r\n    addBookmark(state.recipe);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n","export const API_URL = \"https://forkify-api.herokuapp.com/api/v2/recipes\";\r\nexport const TIMEOUT = 10;\r\nexport const RES_PER_PAGE = 10;\r\nexport const API_KEY = \"aad88efe-822e-421d-a025-d4d0bf758f85\";\r\nexport const MODAL_CLOSE_SEC = 2.5;\r\n","import { TIMEOUT } from \"./config\";\r\nimport icons from \"../img/icons.svg\";\r\n\r\nfunction timeout(seconds) {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(function () {\r\n      reject(\r\n        new Error(`Request took too long! Timeout after ${seconds} seconds`)\r\n      );\r\n    }, seconds * 1000);\r\n  });\r\n}\r\n\r\nexport const AJAX = async function (url, uploadData) {\r\n  try {\r\n    const fetchPromise = uploadData\r\n      ? fetch(url, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(uploadData),\r\n        })\r\n      : fetch(url);\r\n\r\n    const response = await Promise.race([fetchPromise, timeout(TIMEOUT)]);\r\n    const data = response.json();\r\n    if (!response.ok) throw new Error(`${data.message} ${response.status}`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const setLocalStorage = function (key, object) {\r\n  localStorage.setItem(key, JSON.stringify(object));\r\n};\r\n\r\nexport const getLocalStorage = function (key) {\r\n  return JSON.parse(localStorage.getItem(key));\r\n};\r\n","module.exports = new __parcel__URL__(\"icons.c14567a0.svg\").toString();","// import { Fraction } from \"fractional\";\r\nimport icons from \"../../img/icons.svg\";\r\nimport View from \"./View\";\r\n\r\nclass RecipeView extends View {\r\n  errorMessage = \"No recipes found for your query. Please try again!\";\r\n  parentElement = document.querySelector(\".recipe\");\r\n\r\n  addHandlerRender(handler) {\r\n    [\"load\", \"hashchange\"].forEach((ev) =>\r\n      window.addEventListener(ev, handler)\r\n    );\r\n  }\r\n\r\n  addHandlerBookmark(handler) {\r\n    this.parentElement.addEventListener(\"click\", (e) => {\r\n      const btn = e.target.closest(\".btn--bookmark\");\r\n      if (!btn) return;\r\n      handler();\r\n    });\r\n  }\r\n\r\n  addHandlerUpdateServings(handler) {\r\n    this.parentElement.addEventListener(\"click\", (e) => {\r\n      const btn = e.target.closest(\".btn--tiny\");\r\n      if (!btn) return;\r\n      let servings = this.data.servings;\r\n      handler(\r\n        btn.classList.contains(\"btn--increase-servings\")\r\n          ? servings + 1\r\n          : servings - 1 || 1\r\n      );\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return `\r\n    <div class=\"recipe\">\r\n        <figure class=\"recipe__fig\">\r\n          <img src=\"${\r\n            this.data.image\r\n          }\" alt=\"recipe image\" class=\"recipe__img\" />\r\n          <h1 class=\"recipe__title\">\r\n            <span>${this.data.title}</span>\r\n          </h1>\r\n        </figure>\r\n\r\n        <div class=\"recipe__details\">\r\n          <div class=\"recipe__info\">\r\n            <svg class=\"recipe__info-icon\">\r\n              <use href=\"${icons}#icon-clock\"></use>\r\n            </svg>\r\n            <span class=\"recipe__info-data recipe__info-data--minutes\">${\r\n              this.data.cookingTime\r\n            }</span>\r\n            <span class=\"recipe__info-text\">minutes</span>\r\n          </div>\r\n\r\n          <div class=\"recipe__info\">\r\n            <svg class=\"recipe__info-icon\">\r\n              <use href=\"${icons}#icon-users\"></use>\r\n            </svg>\r\n            <span class=\"recipe__info-data recipe__info-data-people\">${\r\n              this.data.servings\r\n            }</span>\r\n            <span class=\"recipe__info-text\">servings</span>\r\n\r\n            <div class=\"recipe__info-buttons\">\r\n              <button class=\"btn--tiny btn--decrease-servings\">\r\n                <svg>\r\n                  <use href=\"${icons}#icon-minus-circle\"></use>\r\n                </svg>\r\n              </button>\r\n              <button class=\"btn--tiny btn--increase-servings\">\r\n                <svg>\r\n                  <use href=\"${icons}#icon-plus-circle\"></use>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"recipe__user-generated ${this.data.key ? \"\" : \"hidden\"}\">\r\n             <svg class=\"nav__icon\">\r\n                <use href=\"${icons}#icon-user\"></use>\r\n              </svg>\r\n          </div>\r\n\r\n          <button class=\"btn--round btn--bookmark\">\r\n            <svg>\r\n              <use href=\"${icons}#icon-bookmark${\r\n      this.data.bookmarked ? \"-fill\" : \"\"\r\n    }\"></use>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"recipe__ingredients\">\r\n          <h2 class=\"heading--2\">Recipe ingredients</h2>\r\n          <ul class=\"recipe__ingredient-list\">\r\n           ${this.#generateIngredients()}\r\n          </ul>\r\n        </div>\r\n\r\n        <div class=\"recipe__directions\">\r\n          <h2 class=\"heading--2\">How to cook it</h2>\r\n          <p class=\"recipe__directions-text\">\r\n            This recipe was carefully designed and tested by\r\n            <span class=\"recipe__publisher\">${\r\n              this.data.publisher\r\n            }</span>. Please\r\n            check out the directions at their website\r\n          </p>\r\n          <a\r\n            href=\"${this.data.sourceUrl}\"\r\n            class=\"btn--small recipe__btn\"\r\n            target=\"_blank\"\r\n          >\r\n            <span>Directions</span>\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${icons}#icon-arrow-right\"></use>\r\n            </svg>\r\n          </a>\r\n        </div> \r\n      </div>`;\r\n  }\r\n\r\n  #generateIngredients() {\r\n    return `\r\n          ${this.data.ingredients.reduce(\r\n            (accumulator, ingredient) =>\r\n              accumulator +\r\n              `<li class=\"recipe__ingredient\">\r\n              <svg class=\"recipe__icon\">\r\n                <use href=\"${icons}#icon-check\"></use>\r\n              </svg>\r\n              <div class=\"recipe__quantity\">${ingredient.quantity}</div>\r\n              <div class=\"recipe__description\">\r\n              <span class=\"recipe__unit\">${ingredient.unit}</span>\r\n                ${ingredient.description}\r\n              </div>\r\n            </li>`,\r\n            \"\"\r\n          )}\r\n        `;\r\n  }\r\n}\r\n\r\n// only one recipe view must be there singleton classes.\r\nexport default new RecipeView();\r\n","import icons from \"../../img/icons.svg\";\r\n\r\nexport default class View {\r\n  data;\r\n\r\n  render(data, render = true) {\r\n    if (!data || (Array.isArray(data) && data.length === 0))\r\n      return this.renderError();\r\n\r\n    this.data = data;\r\n    const html = this._generateMarkup();\r\n\r\n    if (!render) return html;\r\n\r\n    this.#clear();\r\n    this.parentElement.insertAdjacentHTML(\"afterbegin\", html);\r\n  }\r\n\r\n  update(data) {\r\n    this.data = data;\r\n    const html = this._generateMarkup();\r\n\r\n    const newDOM = document.createRange().createContextualFragment(html);\r\n    const newElements = Array.from(newDOM.querySelectorAll(\"*\"));\r\n    const currElements = Array.from(this.parentElement.querySelectorAll(\"*\"));\r\n\r\n    newElements.forEach((newElement, i) => {\r\n      const currElement = currElements[i];\r\n\r\n      // firstchild refers to only text content in the dom element\r\n      if (\r\n        !newElement.isEqualNode(currElement) &&\r\n        newElement.firstChild?.nodeValue.trim() !== \"\"\r\n      ) {\r\n        currElement.textContent = newElement.textContent;\r\n      }\r\n\r\n      // say if we want to change the attribute,\r\n      if (!newElement.isEqualNode(currElement)) {\r\n        Array.from(newElement.attributes).forEach((attr) => {\r\n          currElement.setAttribute(attr.name, attr.value);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  #clear() {\r\n    this.parentElement.innerHTML = \"\";\r\n  }\r\n\r\n  renderSpinner() {\r\n    const spin = `<div class=\"spinner\">\r\n          <svg>\r\n            <use href=\"${icons}#icon-loader\"></use>\r\n          </svg>\r\n        </div>`;\r\n    this.parentElement.innerHTML = \"\";\r\n    this.parentElement.insertAdjacentHTML(\"afterbegin\", spin);\r\n  }\r\n\r\n  renderMessage(message) {\r\n    const msg = `\r\n        <div class=\"message\">\r\n          <div>\r\n            <svg>\r\n              <use href=\"${icons}#icon-smile\"></use>\r\n            </svg>\r\n          </div>\r\n          <p>${message}</p>\r\n        </div>`;\r\n    this.#clear;\r\n    this.parentElement.innerHTML = msg;\r\n  }\r\n\r\n  renderError(errorMessage = this.errorMessage) {\r\n    const error = ` \r\n        <div class=\"error\">\r\n          <div>\r\n            <svg>\r\n              <use href=\"${icons}#icon-alert-triangle\"></use>\r\n            </svg>\r\n          </div>\r\n          <p>${errorMessage}</p>\r\n        </div>`;\r\n    this.#clear();\r\n    this.parentElement.innerHTML = error;\r\n  }\r\n}\r\n","import PreviewView from \"./PreviewView\";\r\nimport View from \"./View\";\r\n\r\nclass ResultsView extends View {\r\n  parentElement = document.querySelector(\".results\");\r\n  errorMessage = \"No recipes found for your query ;)\";\r\n  message = \"\";\r\n\r\n  _generateMarkup() {\r\n    return this.data.reduce(\r\n      (accumulator, recipe) => accumulator + PreviewView.render(recipe, false),\r\n      \"\"\r\n    );\r\n  }\r\n}\r\n\r\nexport default new ResultsView();\r\n","import View from \"./View\";\r\nimport icons from \"../../img/icons.svg\";\r\n\r\nclass PreviewView extends View {\r\n  _generateMarkup() {\r\n    const id = location.hash.slice(1);\r\n    return `\r\n        <li class=\"preview\">\r\n            <a href=\"#${this.data.id}\" class=\"preview__link ${\r\n      id === this.data.id ? \"preview__link--active\" : \"\"\r\n    }\">\r\n            <figure class=\"preview__fig\">\r\n                <img src=\"${this.data.image}\" alt=\"Test\" /> \r\n            </figure>\r\n            \r\n            <div class=\"preview__data\">\r\n                <h4 class=\"preview__title\">${this.data.title}</h4>\r\n                <p class=\"preview__publisher\">${this.data.publisher}</p>\r\n                <div class=\"preview__user-generated ${\r\n                  this.data.key ? \"\" : \"hidden\"\r\n                }\">\r\n                  <svg class=\"nav__icon\">\r\n                      <use href=\"${icons}#icon-user\"></use>\r\n                  </svg>\r\n                </div>\r\n            </div>\r\n            </a>\r\n        </li> \r\n        `;\r\n  }\r\n}\r\n\r\nexport default new PreviewView();\r\n","class SearchView {\r\n  #parentElement = document.querySelector(\".search\");\r\n\r\n  addHandlerSearch(handler) {\r\n    this.#parentElement.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n      handler();\r\n    });\r\n  }\r\n\r\n  clearInput() {\r\n    this.#parentElement.querySelector(\".search__field\").value = \"\";\r\n  }\r\n\r\n  getQuery() {\r\n    return this.#parentElement.querySelector(\".search__field\").value;\r\n  }\r\n}\r\n\r\nexport default new SearchView();\r\n","import icons from \"../../img/icons.svg\";\r\nimport View from \"./View\";\r\n\r\nclass PaginationView extends View {\r\n  parentElement = document.querySelector(\".pagination\");\r\n\r\n  addHandlerRender(handler) {\r\n    this.parentElement.addEventListener(\"click\", function (e) {\r\n      const btn = e.target.closest(\".btn--inline\");\r\n      if (!btn) return;\r\n      const page = +btn.dataset.goto;\r\n      handler(page);\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    // page 1 only no display\r\n    const currPage = this.data.page;\r\n    const pageNo = Math.ceil(\r\n      this.data.recipes.length / this.data.resultsPerPage\r\n    );\r\n\r\n    // page no 1 not the only page\r\n    if (currPage === 1 && pageNo > 1)\r\n      return this.#generateButtonMarkup(\"right\", currPage);\r\n\r\n    // page last, not the only page\r\n    if (currPage === pageNo && pageNo > 1)\r\n      return this.#generateButtonMarkup(\"left\", currPage);\r\n\r\n    // normal pages\r\n    if (currPage < pageNo)\r\n      return this.#generateButtonMarkup(\"left\", currPage).concat(\r\n        this.#generateButtonMarkup(\"right\", currPage)\r\n      );\r\n\r\n    return \"\";\r\n  }\r\n\r\n  #generateButtonMarkup(button, currPage) {\r\n    const page = button === \"left\" ? currPage - 1 : currPage + 1;\r\n    return `\r\n        <button class=\"btn--inline pagination__btn--${\r\n          button === \"left\" ? \"prev\" : \"next\"\r\n        }\" data-goto=\"${page}\">\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${icons}#icon-arrow-${button}\"></use>\r\n            </svg>\r\n            <span>Page ${page}</span>\r\n        </button>`;\r\n  }\r\n}\r\n\r\nexport default new PaginationView();\r\n","import PreviewView from \"./PreviewView\";\r\nimport View from \"./View\";\r\n\r\nclass BookmarksView extends View {\r\n  parentElement = document.querySelector(\".bookmarks__list\");\r\n  errorMessage = \"No bookmarks yet find a nice recipe and bookmark it;)\";\r\n  message = \"\";\r\n\r\n  _generateMarkup() {\r\n    return this.data.reduce(\r\n      (accumulator, recipe) => accumulator + PreviewView.render(recipe, false),\r\n      \"\"\r\n    );\r\n  }\r\n}\r\n\r\nexport default new BookmarksView();\r\n","import View from \"./View\";\r\n\r\nclass AddRecipeView extends View {\r\n  parentElement = document.querySelector(\".upload\");\r\n  #open = document.querySelector(\".nav__btn--add-recipe\");\r\n  #modalWindow = document.querySelector(\".add-recipe-window\");\r\n  #overlay = document.querySelector(\".overlay\");\r\n  #close = document.querySelector(\".btn--close-modal\");\r\n  #submit = document.querySelector(\".upload__btn\");\r\n\r\n  addHandlerRender(handler) {\r\n    this.parentElement.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n      const formDataArr = [...new FormData(this.parentElement)];\r\n      const formData = Object.fromEntries(formDataArr);\r\n      handler(formData);\r\n    });\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this.addHandlerShowModal();\r\n  }\r\n\r\n  toggleWindow() {\r\n    this.#modalWindow.classList.toggle(\"hidden\");\r\n    this.#overlay.classList.toggle(\"hidden\");\r\n  }\r\n\r\n  addHandlerShowModal() {\r\n    this.#open.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n    this.#close.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n  }\r\n}\r\n\r\nexport default new AddRecipeView();\r\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$18c11f3350a906ea$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$18c11f3350a906ea$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$9dfdde2870d5f6f9$export$923ea8233b386e99","$9dfdde2870d5f6f9$export$a9861bd62f48e142","$ed6448dc57a33c39$exports","$55e824ff15c161b3$export$2b3ff41fecbef7c8","uploadData","fetchPromise","fetch","method","headers","body","stringify","response","Promise","race","_","reject","setTimeout","seconds","data","json","ok","message","status","$55e824ff15c161b3$export$1f73f60bdb811cb1","key","object","localStorage","setItem","$55e824ff15c161b3$export$d3720feff416e85b","getItem","$f381a3c3b9cf5311$export$ca000e230c0caa3e","recipe","search","query","recipes","page","resultsPerPage","bookmarks","$f381a3c3b9cf5311$var$createRecipeObject","title","publisher","sourceUrl","source_url","image","image_url","servings","cookingTime","cooking_time","ingredients","$f381a3c3b9cf5311$export$b96725c7a035d60b","some","bookmark","bookmarked","$f381a3c3b9cf5311$export$c3c488c05aeea533","map","$f381a3c3b9cf5311$export$d01855188ffbb649","start","end","slice","$f381a3c3b9cf5311$export$5e23f4642ecad5ea","newServings","forEach","ingredient","quantity","$f381a3c3b9cf5311$export$72009cc673d27d80","push","$f381a3c3b9cf5311$export$2db69b245b3902c8","index","findIndex","splice","$f381a3c3b9cf5311$export$d660c2254e74960d","newRecipe","entries","filter","entry","startsWith","ing","ingArr","replaceAll","split","unit","description","recipeToServer","serverData","$979d8bedf0abc0db$export$2e2bcd8739ae039","render","Array","isArray","renderError","html","_generateMarkup","clear","parentElement","insertAdjacentHTML","update","newElements","from","newDOM","document","createRange","createContextualFragment","querySelectorAll","currElements","newElement","currElement","isEqualNode","firstChild","nodeValue","trim","textContent","attributes","attr","setAttribute","name","value","innerHTML","renderSpinner","spin","renderMessage","msg","errorMessage","error","$6e1749ef4a57ed73$var$RecipeView","querySelector","addHandlerRender","handler","ev","window","addEventListener","addHandlerBookmark","e","target","closest","addHandlerUpdateServings","btn","classList","contains","generateIngredients","reduce","accumulator","$6e1749ef4a57ed73$export$2e2bcd8739ae039","$875747b3d3765f41$export$2e2bcd8739ae039","location","hash","$8f1f46095f7e634a$var$ResultsView","$8f1f46095f7e634a$export$2e2bcd8739ae039","$bfa3fc362cee6467$var$SearchView","addHandlerSearch","preventDefault","clearInput","getQuery","$bfa3fc362cee6467$export$2e2bcd8739ae039","$a4d52f5bb2597adb$var$PaginationView","dataset","goto","currPage","pageNo","Math","ceil","generateButtonMarkup","concat","button","$a4d52f5bb2597adb$export$2e2bcd8739ae039","$d84da2ac8cdc4a66$var$BookmarksView","$d84da2ac8cdc4a66$export$2e2bcd8739ae039","$cdb0fe0ee1216733$var$AddRecipeView","open","modalWindow","overlay","close","submit","fromEntries","FormData","constructor","addHandlerShowModal","toggleWindow","toggle","bind","$cdb0fe0ee1216733$export$2e2bcd8739ae039","$03cf872f16b5d10b$var$controlRecipes","$03cf872f16b5d10b$var$controlSearchResults","$03cf872f16b5d10b$var$controlAddRecipe","history","pushState","goToPage"],"version":3,"file":"index.e488c6e5.js.map"}